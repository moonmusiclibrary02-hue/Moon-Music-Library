# /frontend/nginx.conf

# Define a server block
server {
    # CRITICAL: Listen on the port specified by the PORT environment variable
    # which Cloud Run will set to 8080.
    listen 8080;

    # Define the root directory for static files
    root /usr/share/nginx/html;

    # Serve index.html for any directory requests
    index index.html;

    # For single-page applications (like React), this is important.
    # It ensures that any direct URL request (e.g., /dashboard) is
    # served by index.html, allowing the React Router to handle it.
    location / {
        try_files $uri $uri/ /index.html;
    }
}